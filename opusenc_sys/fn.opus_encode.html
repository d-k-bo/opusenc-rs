<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Encodes an Opus frame. @param [in] st OpusEncoder*: Encoder state @param [in] pcm opus_int16*: Input signal (interleaved if 2 channels). length is frame_sizechannelssizeof(opus_int16) @param [in] frame_size int: Number of samples per channel in the input signal. This must be an Opus frame size for the encoder’s sampling rate. For example, at 48 kHz the permitted values are 120, 240, 480, 960, 1920, and 2880. Passing in a duration of less than 10 ms (480 samples at 48 kHz) will prevent the encoder from using the LPC or hybrid modes. @param [out] data unsigned char*: Output payload. This must contain storage for at least \a max_data_bytes. @param [in] max_data_bytes opus_int32: Size of the allocated memory for the output payload. This may be used to impose an upper limit on the instant bitrate, but should not be used as the only bitrate control. Use #OPUS_SET_BITRATE to control the bitrate. @returns The length of the encoded packet (in bytes) on success or a negative error code (see @ref opus_errorcodes) on failure."><title>opus_encode in opusenc_sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-aa0817cf.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="opusenc_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.90.0 (1159e78c4 2025-09-14)" data-channel="1.90.0" data-search-js="search-fa3e91e5.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-68b7e25d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-eebb9057.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../opusenc_sys/index.html">opusenc_<wbr>sys</a><span class="version">0.3.0</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">opusenc_sys</a></div><h1>Function <span class="fn">opus_encode</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/opusenc_sys/github/workspace/target/debug/build/opusenc-sys-9a4a8cf6e60963cd/out/bindings.rs.html#348-354">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn opus_encode(
    st: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.pointer.html">*mut </a><a class="struct" href="struct.OpusEncoder.html" title="struct opusenc_sys::OpusEncoder">OpusEncoder</a>,
    pcm: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.pointer.html">*const </a><a class="type" href="type.opus_int16.html" title="type opusenc_sys::opus_int16">opus_int16</a>,
    frame_size: <a class="type" href="https://doc.rust-lang.org/1.90.0/std/os/raw/type.c_int.html" title="type std::os::raw::c_int">c_int</a>,
    data: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.pointer.html">*mut </a><a class="type" href="https://doc.rust-lang.org/1.90.0/std/os/raw/type.c_uchar.html" title="type std::os::raw::c_uchar">c_uchar</a>,
    max_data_bytes: <a class="type" href="type.opus_int32.html" title="type opusenc_sys::opus_int32">opus_int32</a>,
) -&gt; <a class="type" href="type.opus_int32.html" title="type opusenc_sys::opus_int32">opus_int32</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Encodes an Opus frame.
@param [in] st <tt>OpusEncoder*</tt>: Encoder state
@param [in] pcm <tt>opus_int16*</tt>: Input signal (interleaved if 2 channels). length is frame_size<em>channels</em>sizeof(opus_int16)
@param [in] frame_size <tt>int</tt>: Number of samples per channel in the
input signal.
This must be an Opus frame size for
the encoder’s sampling rate.
For example, at 48 kHz the permitted
values are 120, 240, 480, 960, 1920,
and 2880.
Passing in a duration of less than
10 ms (480 samples at 48 kHz) will
prevent the encoder from using the LPC
or hybrid modes.
@param [out] data <tt>unsigned char*</tt>: Output payload.
This must contain storage for at
least \a max_data_bytes.
@param [in] max_data_bytes <tt>opus_int32</tt>: Size of the allocated
memory for the output
payload. This may be
used to impose an upper limit on
the instant bitrate, but should
not be used as the only bitrate
control. Use #OPUS_SET_BITRATE to
control the bitrate.
@returns The length of the encoded packet (in bytes) on success or a
negative error code (see @ref opus_errorcodes) on failure.</p>
</div></details></section></div></main></body></html>